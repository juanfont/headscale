name: Contributors

on:
  push:
    branches:
      - main
  workflow_dispatch:
jobs:
  add-contributors:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Delete upstream contributor branch
        run: git push origin --delete update-contributors
      - name: Create up-to-date contributors branch
        run: git checkout -B update-contributors
      - uses: BobAnkh/add-contributors@v0.2.2
        with:
          CONTRIBUTOR: "## Contributors"
          COLUMN_PER_ROW: "6"
          ACCESS_TOKEN: ${{secrets.GITHUB_TOKEN}}
          IMG_WIDTH: "100"
          FONT_SIZE: "14"
          PATH: "/README.md"
          COMMIT_MESSAGE: "docs(README): update contributors"
          AVATAR_SHAPE: "round"
          BRANCH: "update-contributors"
          PULL_REQUEST: "main"
